metadata:
  name: tel.schich.idl.example
  version: "1"
definitions:
  - type: primitive
    metadata:
      name: test
    dataType: int32
  - type: sum
    metadata:
      name: untagged-sum
    constructors:
      - name: test
  - type: product
    metadata:
      name: product
      description: product
    components:
      - name: untagged-sum
      - name: test
  - type: record
    metadata:
      name: record
    properties:
      - metadata:
          name: prop1
          description: override
        model:
          name: product
        nullable: true
  - type: constant
    metadata:
      name: constant
      deprecated: true
    dataType: int32
    value: 1
  - type: tagged-sum
    metadata:
      name: tagged-sum-tuple
      annotations:
        tel.schich.idl.generator.openapi/tagged-sum-encoding: WRAPPER_TUPLE
    tagDataType: int32
    constructors:
      - metadata:
          name: ctor1
        tag: 1
        model:
          name: record
      - metadata:
          name: ctor2
        tag: 2
        model:
          name: record
  - type: tagged-sum
    metadata:
      name: tagged-sum-record
      annotations:
        tel.schich.idl.generator.openapi/tagged-sum-encoding: WRAPPER_RECORD
    tagDataType: int32
    constructors:
      - metadata:
          name: ctor1
        tag: 1
        model:
          name: record
      - metadata:
          name: ctor2
        tag: 2
        model:
          name: record
  - type: tagged-sum
    metadata:
      name: tagged-sum-property
      annotations:
        tel.schich.idl.generator.openapi/tagged-sum-encoding: RECORD_PROPERTY
    tagDataType: int32
    constructors:
      - metadata:
          name: ctor1
        tag: 1
        model:
          name: record
      - metadata:
          name: ctor2
        tag: 2
        model:
          name: record
  - type: adt
    metadata:
      name: adt
      description: test-adt
      examples:
        - metadata:
            name: a
          example:
            type: a
            timestamp: 123
            counter: 1
    commonProperties:
      - metadata:
          name: timestamp
        model:
          name: test
    constructors:
      - metadata:
          name: a
        properties:
          - metadata:
              name: counter
            model:
              name: test
      - metadata:
          name: b
        properties:
          - metadata:
              name: hits
            model:
              name: test
operations: [ ]
