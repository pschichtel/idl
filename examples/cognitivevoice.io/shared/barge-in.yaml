metadata:
  name: ai.vier.cvg.shared.barge-in
  version: "1"
definitions:
  - metadata:
      name: TriggeredBargeIn
      description: This flag is set to true if this message triggered barge-in and the bot was interrupted.
    type: primitive
    dataType: boolean
  - metadata:
      name: LegacyEnableBargeIn
    type: primitive
    dataType: boolean
  - metadata:
      name: EnableBargeInOnSpeech
    type: primitive
    dataType: boolean
  - metadata:
      name: EnableBargeInOnDtmf
    type: primitive
    dataType: boolean
  - metadata:
      name: AdvancedBargeInOptions
      description: |-
        By default, transcriptions made while the bot is 'talking' (synthesis or audio file playback) are ignored.
        However, if barge-in is enabled, the audio output is interrupted and the transcription result is sent to the bot.

        Note that this feature is currently fairly sensitive to background noise, in which case audio output may be
        interrupted erroneously.

    type: record
    properties:
      - metadata:
          name: onSpeech
        model:
          name: EnableBargeInOnSpeech
      - metadata:
          name: onDtmf
        model:
          name: EnableBargeInOnDtmf
      - metadata:
          name: confidence
        nullable: true
        default:
          value: null
        model:
          module:
            name: ai.vier.cvg.shared.confidence
            version: "1"
          name: Confidence
      - metadata:
          name: phraseList
        model:
          module:
            name: ai.vier.cvg.shared.speech-service
            version: "1"
          name: PhraseList
  - metadata:
      name: BargeInOptions
    type: sum
    constructors:
      - name: AdvancedBargeInOptions
      - name: LegacyEnableBargeIn
operations: [ ]
